import{S as e,i as t,s as n,e as s,H as a,c as o,a as i,d as l,b as r,I as c,f as h,F as u,J as f,G as p,t as d,k as m,g,n as v,K as y,L as w,j as E,m as x,o as $,v as b,r as k,w as I,M as D,N as z,O as S,h as H,P as V,Q as B,u as T,R as C,T as J,U as N,V as F,W as A,z as P,X as O,Y as L,Z as M,_ as R,$ as j,a0 as U,a1 as q,B as K,a2 as W,a3 as Y,a4 as G}from"../chunks/vendor-3ef4e6dd.js";function Q(e){let t,n,d,m,g,v,y;return{c(){t=s("button"),n=a("svg"),d=a("line"),m=a("line"),g=a("line"),this.h()},l(e){t=o(e,"BUTTON",{class:!0});var s=i(t);n=o(s,"svg",{width:!0,height:!0,class:!0},1);var a=i(n);d=o(a,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),i(d).forEach(l),m=o(a,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),i(m).forEach(l),g=o(a,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),i(g).forEach(l),a.forEach(l),s.forEach(l),this.h()},h(){r(d,"id","top"),r(d,"x1","0"),r(d,"y1","2"),r(d,"x2","32"),r(d,"y2","2"),r(d,"class","svelte-nwxs19"),r(m,"id","middle"),r(m,"x1","0"),r(m,"y1","12"),r(m,"x2","32"),r(m,"y2","12"),r(m,"class","svelte-nwxs19"),r(g,"id","bottom"),r(g,"x1","0"),r(g,"y1","22"),r(g,"x2","32"),r(g,"y2","22"),r(g,"class","svelte-nwxs19"),r(n,"width","32"),r(n,"height","24"),r(n,"class","svelte-nwxs19"),r(t,"class","svelte-nwxs19"),c(t,"open",e[0])},m(s,a){h(s,t,a),u(t,n),u(n,d),u(n,m),u(n,g),v||(y=f(t,"click",e[1]),v=!0)},p(e,[n]){1&n&&c(t,"open",e[0])},i:p,o:p,d(e){e&&l(t),v=!1,y()}}}function X(e,t,n){let{open:s=!1}=t;return e.$$set=e=>{"open"in e&&n(0,s=e.open)},[s,()=>n(0,s=!s)]}class Z extends e{constructor(e){super(),t(this,e,X,Q,n,{open:0})}}function _(e){let t,n,a,E,x,$,b,k,I,D,z,S;return{c(){t=s("aside"),n=s("nav"),a=s("item"),E=d("Search"),x=m(),$=s("item"),b=d("Export"),k=m(),I=s("item"),D=d("Help"),this.h()},l(e){t=o(e,"ASIDE",{class:!0});var s=i(t);n=o(s,"NAV",{class:!0});var r=i(n);a=o(r,"ITEM",{class:!0});var c=i(a);E=g(c,"Search"),c.forEach(l),x=v(r),$=o(r,"ITEM",{class:!0});var h=i($);b=g(h,"Export"),h.forEach(l),k=v(r),I=o(r,"ITEM",{class:!0});var u=i(I);D=g(u,"Help"),u.forEach(l),r.forEach(l),s.forEach(l),this.h()},h(){r(a,"class","svelte-i1zqfl"),r($,"class","svelte-i1zqfl"),r(I,"class","svelte-i1zqfl"),r(n,"class",""),r(t,"class"," svelte-i1zqfl"),c(t,"open",e[0])},m(s,o){h(s,t,o),u(t,n),u(n,a),u(a,E),u(n,x),u(n,$),u($,b),u(n,k),u(n,I),u(I,D),z||(S=[f(a,"click",(function(){y(e[3])&&e[3].apply(this,arguments)})),f($,"click",(function(){y(e[1])&&e[1].apply(this,arguments)})),f(I,"click",(function(){y(e[2])&&e[2].apply(this,arguments)}))],z=!0)},p(n,[s]){e=n,1&s&&c(t,"open",e[0])},i:p,o:p,d(e){e&&l(t),z=!1,w(S)}}}function ee(e,t,n){let{open:s=!1}=t,{exportData:a}=t,{toggleHelp:o}=t,{toggleSearch:i}=t;return e.$$set=e=>{"open"in e&&n(0,s=e.open),"exportData"in e&&n(1,a=e.exportData),"toggleHelp"in e&&n(2,o=e.toggleHelp),"toggleSearch"in e&&n(3,i=e.toggleSearch)},[s,a,o,i]}class te extends e{constructor(e){super(),t(this,e,ee,_,n,{open:0,exportData:1,toggleHelp:2,toggleSearch:3})}}function ne(e){let t,n,a,c,w,E,x,$,b,k,I,D,z,S,H,V,B,T,C,J,N,F,A,P,O,L,M,R,j,U,q;return{c(){t=s("div"),n=m(),a=s("div"),c=s("h3"),w=d("Introduction"),E=m(),x=s("p"),$=d("Welcome to Fuzzy Join! This is a simple tool to help you match values in two spreadsheet columns."),b=m(),k=s("p"),I=d("For example, suppose you have two lists of names and want to figure out which folks are in both lists. If each such person's name is not printed exactly the same in the two lists, you'll have to painstakingly read through the lists and match names up as you go. Fuzzy Join helps with that."),D=m(),z=s("h3"),S=d("Instructions"),H=m(),V=s("p"),B=d("Begin by copying the first column from your spreadsheet software and then do a paste action with this browser window open. Repeat with the second column."),T=m(),C=s("p"),J=d("Next you'll see a list of suggestions for the first entry in the first column. Choose a match by clicking on it or by pressing the corresponding digit on the keyboard. You can also search to filter possible matches by pressing "),N=s("tt"),F=d("/"),A=d(". Continue until all matches have been found. Export as a CSV or perform a copy action to put the matching on your clipboard."),P=m(),O=s("h3"),L=d("Security"),M=m(),R=s("p"),j=d("Fuzzy Join is secure because your data stays entirely within your browser."),this.h()},l(e){t=o(e,"DIV",{class:!0}),i(t).forEach(l),n=v(e),a=o(e,"DIV",{class:!0});var s=i(a);c=o(s,"H3",{});var r=i(c);w=g(r,"Introduction"),r.forEach(l),E=v(s),x=o(s,"P",{});var h=i(x);$=g(h,"Welcome to Fuzzy Join! This is a simple tool to help you match values in two spreadsheet columns."),h.forEach(l),b=v(s),k=o(s,"P",{});var u=i(k);I=g(u,"For example, suppose you have two lists of names and want to figure out which folks are in both lists. If each such person's name is not printed exactly the same in the two lists, you'll have to painstakingly read through the lists and match names up as you go. Fuzzy Join helps with that."),u.forEach(l),D=v(s),z=o(s,"H3",{});var f=i(z);S=g(f,"Instructions"),f.forEach(l),H=v(s),V=o(s,"P",{});var p=i(V);B=g(p,"Begin by copying the first column from your spreadsheet software and then do a paste action with this browser window open. Repeat with the second column."),p.forEach(l),T=v(s),C=o(s,"P",{});var d=i(C);J=g(d,"Next you'll see a list of suggestions for the first entry in the first column. Choose a match by clicking on it or by pressing the corresponding digit on the keyboard. You can also search to filter possible matches by pressing "),N=o(d,"TT",{});var m=i(N);F=g(m,"/"),m.forEach(l),A=g(d,". Continue until all matches have been found. Export as a CSV or perform a copy action to put the matching on your clipboard."),d.forEach(l),P=v(s),O=o(s,"H3",{});var y=i(O);L=g(y,"Security"),y.forEach(l),M=v(s),R=o(s,"P",{});var U=i(R);j=g(U,"Fuzzy Join is secure because your data stays entirely within your browser."),U.forEach(l),s.forEach(l),this.h()},h(){r(t,"class","mask svelte-1ci3i8f"),r(a,"class","help svelte-1ci3i8f")},m(s,o){h(s,t,o),h(s,n,o),h(s,a,o),u(a,c),u(c,w),u(a,E),u(a,x),u(x,$),u(a,b),u(a,k),u(k,I),u(a,D),u(a,z),u(z,S),u(a,H),u(a,V),u(V,B),u(a,T),u(a,C),u(C,J),u(C,N),u(N,F),u(C,A),u(a,P),u(a,O),u(O,L),u(a,M),u(a,R),u(R,j),U||(q=f(t,"click",(function(){y(e[0])&&e[0].apply(this,arguments)})),U=!0)},p(t,[n]){e=t},i:p,o:p,d(e){e&&l(t),e&&l(n),e&&l(a),U=!1,q()}}}function se(e,t,n){let{toggleHelp:s}=t;return e.$$set=e=>{"toggleHelp"in e&&n(0,s=e.toggleHelp)},[s]}class ae extends e{constructor(e){super(),t(this,e,se,ne,n,{toggleHelp:0})}}function oe(e,t){if(0==e.length)return t.length;if(0==t.length)return e.length;var n,s,a=[];for(n=0;n<=t.length;n++)a[n]=[n];for(s=0;s<=e.length;s++)a[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?a[n][s]=a[n-1][s-1]:a[n][s]=Math.min(a[n-1][s-1]+1,Math.min(a[n][s-1]+1,a[n-1][s]+1));return a[t.length][e.length]}const{Boolean:ie}=O;function le(e,t,n){const s=e.slice();return s[29]=t[n],s[31]=n,s}function re(e,t,n){const s=e.slice();return s[32]=t[n],s[34]=n,s}function ce(e){let t,n;return t=new ae({props:{toggleHelp:e[15]}}),{c(){E(t.$$.fragment)},l(e){x(t.$$.fragment,e)},m(e,s){$(t,e,s),n=!0},p:p,i(e){n||(b(t.$$.fragment,e),n=!0)},o(e){k(t.$$.fragment,e),n=!1},d(e){I(t,e)}}}function he(e){let t,n,a,c,f,p,m=e[3][e[6][e[31]].id].name+"";return{c(){t=d("⟷\n              "),n=s("span"),a=d(m),this.h()},l(e){t=g(e,"⟷\n              "),n=o(e,"SPAN",{class:!0});var s=i(n);a=g(s,m),s.forEach(l),this.h()},h(){r(n,"class","on-card-match")},m(e,s){h(e,t,s),h(e,n,s),u(n,a),p=!0},p(t,n){e=t,(!p||72&n[0])&&m!==(m=e[3][e[6][e[31]].id].name+"")&&H(a,m)},i(t){p||(V((()=>{f&&f.end(1),c||(c=L(n,e[11],{key:e[3][e[6][e[31]].id].id})),c.start()})),p=!0)},o(e){c&&c.invalidate(),f=B(n,M,{duration:75}),p=!1},d(e){e&&l(t),e&&l(n),e&&f&&f.end()}}}function ue(e){let t,n,a,c=[],u=new Map,f=e[1]&&fe(e),p=e[8];const d=e=>e[32].id;for(let s=0;s<p.length;s+=1){let t=re(e,p,s),n=d(t);u.set(n,c[s]=pe(n,t))}return{c(){f&&f.c(),t=m(),n=s("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){f&&f.l(e),t=v(e),n=o(e,"DIV",{class:!0});var s=i(n);for(let t=0;t<c.length;t+=1)c[t].l(s);s.forEach(l),this.h()},h(){r(n,"class","right-names svelte-1pihh8o")},m(e,s){f&&f.m(e,s),h(e,t,s),h(e,n,s);for(let t=0;t<c.length;t+=1)c[t].m(n,null);a=!0},p(e,s){if(e[1]?f?f.p(e,s):(f=fe(e),f.c(),f.m(t.parentNode,t)):f&&(f.d(1),f=null),8452&s[0]){p=e[8],K();for(let e=0;e<c.length;e+=1)c[e].r();c=J(c,s,d,1,e,p,u,n,W,pe,null,re);for(let e=0;e<c.length;e+=1)c[e].a();T()}},i(e){if(!a){for(let e=0;e<p.length;e+=1)b(c[e]);a=!0}},o(e){for(let t=0;t<c.length;t+=1)k(c[t]);a=!1},d(e){f&&f.d(e),e&&l(t),e&&l(n);for(let t=0;t<c.length;t+=1)c[t].d()}}}function fe(e){let t,n,a,c;return{c(){t=s("div"),n=s("input"),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=i(t);n=o(s,"INPUT",{id:!0,class:!0}),s.forEach(l),this.h()},h(){r(n,"id","search"),r(n,"class","svelte-1pihh8o"),r(t,"class","searching svelte-1pihh8o")},m(s,o){h(s,t,o),u(t,n),C(n,e[0]),a||(c=f(n,"input",e[18]),a=!0)},p(e,t){1&t[0]&&n.value!==e[0]&&C(n,e[0])},d(e){e&&l(t),a=!1,c()}}}function pe(e,t){let n,a,c,y,w,E,x,$,b,k,I,D,z=t[34]+1+"",S=t[32].name+"",T=p;function C(){return t[19](t[32])}return{key:e,first:null,c(){n=s("div"),a=s("span"),c=d(z),y=m(),w=d(S),E=m(),this.h()},l(e){n=o(e,"DIV",{class:!0});var t=i(n);a=o(t,"SPAN",{class:!0});var s=i(a);c=g(s,z),s.forEach(l),y=v(t),w=g(t,S),E=v(t),t.forEach(l),this.h()},h(){r(a,"class","digit svelte-1pihh8o"),r(n,"class","right-name svelte-1pihh8o"),this.first=n},m(e,t){h(e,n,t),u(n,a),u(a,c),u(n,y),u(n,w),u(n,E),k=!0,I||(D=f(n,"click",R(C)),I=!0)},p(e,n){t=e,(!k||256&n[0])&&z!==(z=t[34]+1+"")&&H(c,z),(!k||256&n[0])&&S!==(S=t[32].name+"")&&H(w,S)},r(){b=n.getBoundingClientRect()},f(){j(n),T(),U(n,b)},a(){T(),T=q(n,b,G,{duration:100})},i(e){k||(e&&V((()=>{$&&$.end(1),x||(x=L(n,M,{})),x.start()})),k=!0)},o(e){x&&x.invalidate(),$=B(n,t[10],{key:t[32].id}),k=!1},d(e){e&&l(n),e&&$&&$.end(),I=!1,D()}}}function de(e){let t,n,a,c,p,y,w,E,x,$,I=e[29].name+"",D=e[3][e[6][e[31]].id]&&he(e),z=e[31]===e[7]&&ue(e);function V(){return e[20](e[31])}return{c(){t=s("div"),n=s("span"),a=d(I),c=m(),D&&D.c(),p=m(),z&&z.c(),y=m(),this.h()},l(e){t=o(e,"DIV",{class:!0});var s=i(t);n=o(s,"SPAN",{});var r=i(n);a=g(r,I),c=v(r),D&&D.l(r),p=v(r),z&&z.l(r),r.forEach(l),y=v(s),s.forEach(l),this.h()},h(){r(t,"class",w=S("left name"+(e[31]===e[7]?" active":""))+" svelte-1pihh8o")},m(e,s){h(e,t,s),u(t,n),u(n,a),u(n,c),D&&D.m(n,null),u(n,p),z&&z.m(n,null),u(t,y),E=!0,x||($=f(t,"click",V),x=!0)},p(s,o){e=s,(!E||64&o[0])&&I!==(I=e[29].name+"")&&H(a,I),e[3][e[6][e[31]].id]?D?(D.p(e,o),72&o[0]&&b(D,1)):(D=he(e),D.c(),b(D,1),D.m(n,p)):D&&(K(),k(D,1,1,(()=>{D=null})),T()),e[31]===e[7]?z?(z.p(e,o),128&o[0]&&b(z,1)):(z=ue(e),z.c(),b(z,1),z.m(n,null)):z&&(K(),k(z,1,1,(()=>{z=null})),T()),(!E||128&o[0]&&w!==(w=S("left name"+(e[31]===e[7]?" active":""))+" svelte-1pihh8o"))&&r(t,"class",w)},i(e){E||(b(D),b(z),E=!0)},o(e){k(D),k(z),E=!1},d(e){e&&l(t),D&&D.d(),z&&z.d(),x=!1,$()}}}function me(e){let t,n,a,c,f,p,y,w,V,B,C,J,A,P,O,L,M,R,j,U,q=1!==e[9]?"es":"",W=e[5]&&ce(e);function Y(t){e[17](t)}let G={};void 0!==e[4]&&(G.open=e[4]),c=new Z({props:G}),D.push((()=>z(c,"open",Y))),y=new te({props:{open:e[4],exportData:e[14],toggleHelp:e[15],toggleSearch:e[16]}});let Q=e[6],X=[];for(let s=0;s<Q.length;s+=1)X[s]=de(le(e,Q,s));const _=e=>k(X[e],1,1,(()=>{X[e]=null}));return{c(){W&&W.c(),t=m(),n=s("div"),a=s("nav"),E(c.$$.fragment),p=m(),E(y.$$.fragment),w=m(),V=s("h1"),B=d("Fuzzy Join"),C=m(),J=s("div"),A=d(e[9]),P=d(" match"),O=d(q),L=m(),M=s("div"),R=s("div");for(let e=0;e<X.length;e+=1)X[e].c();this.h()},l(s){W&&W.l(s),t=v(s),n=o(s,"DIV",{class:!0});var r=i(n);a=o(r,"NAV",{class:!0});var h=i(a);x(c.$$.fragment,h),p=v(h),x(y.$$.fragment,h),h.forEach(l),w=v(r),V=o(r,"H1",{class:!0});var u=i(V);B=g(u,"Fuzzy Join"),u.forEach(l),C=v(r),J=o(r,"DIV",{class:!0});var f=i(J);A=g(f,e[9]),P=g(f," match"),O=g(f,q),f.forEach(l),L=v(r),M=o(r,"DIV",{class:!0});var d=i(M);R=o(d,"DIV",{class:!0});var m=i(R);for(let e=0;e<X.length;e+=1)X[e].l(m);m.forEach(l),d.forEach(l),r.forEach(l),this.h()},h(){r(a,"class","svelte-1pihh8o"),r(V,"class","centered svelte-1pihh8o"),r(J,"class","match-count centered svelte-1pihh8o"),r(R,"class","column svelte-1pihh8o"),r(M,"class","grid-container svelte-1pihh8o"),r(n,"class",j=S(e[5]?"blur":"")+" svelte-1pihh8o")},m(e,s){W&&W.m(e,s),h(e,t,s),h(e,n,s),u(n,a),$(c,a,null),u(a,p),$(y,a,null),u(n,w),u(n,V),u(V,B),u(n,C),u(n,J),u(J,A),u(J,P),u(J,O),u(n,L),u(n,M),u(M,R);for(let t=0;t<X.length;t+=1)X[t].m(R,null);U=!0},p(e,s){e[5]?W?(W.p(e,s),32&s[0]&&b(W,1)):(W=ce(e),W.c(),b(W,1),W.m(t.parentNode,t)):W&&(K(),k(W,1,1,(()=>{W=null})),T());const a={};!f&&16&s[0]&&(f=!0,a.open=e[4],N((()=>f=!1))),c.$set(a);const o={};if(16&s[0]&&(o.open=e[4]),y.$set(o),(!U||512&s[0])&&H(A,e[9]),(!U||512&s[0])&&q!==(q=1!==e[9]?"es":"")&&H(O,q),12751&s[0]){let t;for(Q=e[6],t=0;t<Q.length;t+=1){const n=le(e,Q,t);X[t]?(X[t].p(n,s),b(X[t],1)):(X[t]=de(n),X[t].c(),b(X[t],1),X[t].m(R,null))}for(K(),t=Q.length;t<X.length;t+=1)_(t);T()}(!U||32&s[0]&&j!==(j=S(e[5]?"blur":"")+" svelte-1pihh8o"))&&r(n,"class",j)},i(e){if(!U){b(W),b(c.$$.fragment,e),b(y.$$.fragment,e);for(let e=0;e<Q.length;e+=1)b(X[e]);U=!0}},o(e){k(W),k(c.$$.fragment,e),k(y.$$.fragment,e),X=X.filter(ie);for(let t=0;t<X.length;t+=1)k(X[t]);U=!1},d(e){W&&W.d(e),e&&l(t),e&&l(n),I(c),I(y),F(X,e)}}}function ge(){setTimeout((()=>{const e=document.getElementById("search");e&&e.focus()}),5)}function ve(e,t,n){let s,a;const[o,i]=A({duration:e=>Math.sqrt(500*e),fallback(e,t){const n=getComputedStyle(e),s="none"===n.transform?"":n.transform;return{duration:10,easing:Y,css:e=>`\n\t\t\t\t\ttransform: ${s} scale(${e});\n          opacity: ${e};\n\t\t\t\t`}}});let l="left",r="",c=!1,h=!1,u=!1,f=[{id:0,name:"B.B. King"},{id:1,name:"Robert Johnson"},{id:2,name:"Jimi Hendrix"}],p=[{id:3,name:"Riley King"},{id:4,name:"Jimi Hendrix"}],d=5,m=0,g={};function v(e){const t=f[e].id;e!=m?(n(7,m=e),n(2,p=p.sort(((t,n)=>oe(f[e].name,t.name)-oe(f[e].name,n.name)))),ge()):g[t]&&(n(2,p=[g[t],...p]),n(3,g[t]=void 0,g))}function y(e){const t=f[m].id;if(g[t]){const s=g[t];n(3,g[t]=p[e],g);const a=p.slice(0,e).concat(p.slice(e+1));n(2,p=[s,...a])}else n(3,g[t]=p[e],g),n(2,p=p.slice(0,e).concat(p.slice(e+1)))}function w(){n(7,m=0),n(2,p=Object.values(g).filter(Boolean).sort(((e,t)=>e.id-t.id)).concat(p)),n(3,g={})}function E(e){const t=f.map((e=>g[e.id]&&g[e.id].name?g[e.id].name:"")).join("\n");e.clipboardData.setData("text/plain",t),e.preventDefault()}function x(e){return e.split("\n").map((e=>({id:d++,name:e})))}function $(e){const t=e.clipboardData.getData("text/plain");"left"===l?(n(6,f=x(t)),l="right",w()):(n(2,p=x(t)),l="left",w())}function b(){!function({filename:e,data:t,type:n="plain"}={}){const s=new Blob([t],{type:"text/"+n});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(s,e);else{const t=window.document.createElement("a");t.href=window.URL.createObjectURL(s),t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}({filename:"matching.csv",data:f.map(((e,t)=>e.name+","+(g[e.id]&&g[e.id].name||""))).join("\n"),type:"csv"})}const k=new Set(["1","2","3","4","5","6","7","8","9"]);function I(e){if("ArrowUp"===e.key&&m>=1)v(m-1),n(1,c=!1);else if("ArrowDown"===e.key&&m<f.length-1)v(m+1),n(1,c=!1);else if(c)"Escape"===e.key?(n(5,u=!1),n(1,c=!1),n(0,r="")):"Enter"===e.key&&s.length>0&&(y(p.indexOf(s[0])),n(0,r=""),m<f.length-1&&v(m+1));else if(k.has(e.key)){const t=parseInt(e.key)-1;t<p.length&&y(t),m<f.length-1&&setTimeout((()=>v(m+1)),100)}else"e"===e.key?b():"Escape"===e.key?w():"/"===e.key&&(n(1,c=!0),ge())}P((()=>{window.addEventListener("paste",$),window.addEventListener("copy",E),window.addEventListener("keydown",I)}));return e.$$.update=()=>{7&e.$$.dirty[0]&&n(8,s=p.filter((e=>!c||(e.name?e.name.toLowerCase().match(r.toLowerCase()):console.log("card with missing name",p))))),8&e.$$.dirty[0]&&n(9,a=Object.values(g).filter(Boolean).length)},[r,c,p,g,h,u,f,m,s,a,o,i,v,y,b,function(){n(5,u=!u)},function(){n(1,c=!c)},function(e){h=e,n(4,h)},function(){r=this.value,n(0,r)},e=>y(p.indexOf(e)),e=>v(e)]}export default class extends e{constructor(e){super(),t(this,e,ve,me,n,{},[-1,-1])}}
